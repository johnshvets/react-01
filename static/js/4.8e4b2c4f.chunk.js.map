{"version":3,"sources":["components/hoc/WithAuthRedirect.jsx","components/common/Paginator/Paginator.module.css","images/user.svg","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selector.js","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Paginator","totalItemCount","pageSize","currentPage","onPageChange","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","page","map","className","classes","selectedPage","User","user","followingInProgress","unfollow","follow","id","src","photos","small","userPic","width","followed","disabled","some","name","status","Users","totalUserCount","users","key","getStateUsers","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","getUsers","compose"],"mappings":"iNAIMA,EAAkB,SAACC,GAAD,MAAY,CAAEC,OAAQD,EAAME,KAAKD,SAE5CE,EAAmB,SAACC,GAAe,IACxCC,EADuC,uKAGzC,OAAKC,KAAKC,MAAMN,OAET,kBAACG,EAAcE,KAAKC,OAFI,kBAAC,IAAD,CAAUC,GAAI,eAHJ,GACbC,IAAML,WAYtC,OAJqCM,YAAQX,EAARW,CACnCL,K,oBCfJM,EAAOC,QAAU,CAAC,KAAO,wBAAwB,aAAe,kC,oBCDhED,EAAOC,QAAU,IAA0B,kC,uICwD5BC,EArDG,WAWhB,IALU,IAAD,yDAAP,GALFC,EAKS,EALTA,eACAC,EAIS,EAJTA,SACAC,EAGS,EAHTA,YACAC,EAES,EAFTA,aAES,IADTC,mBACS,MADK,EACL,EACHC,EAAYC,KAAKC,KAAKP,EAAiBC,GAEvCO,EAAQ,GAELC,EAAI,EAAGA,GAAKJ,EAAWI,GAAK,EACnCD,EAAME,KAAKD,GAGb,IAAME,EAAeL,KAAKC,KAAKF,EAAYD,GATlC,EAUiCQ,mBAAS,GAV1C,mBAUFC,EAVE,KAUaC,EAVb,KAWHC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAE/C,OACE,6BACGS,EAAgB,GACf,4BAAQI,QAAS,kBAAMH,EAAiBD,EAAgB,KAAxD,QAIDL,EACEU,QACC,SAACC,GAAD,OACEA,GAAQJ,GAAyBI,GAAQH,KAE5CI,KAAI,SAACD,GACJ,OACE,uBACEE,UAAS,UAAKC,IAAQH,KAAb,YACPjB,IAAgBiB,GAAQG,IAAQC,cAElCN,QAAS,kBAAMd,EAAagB,KAE3BA,MAIRR,EAAeE,GACd,4BAAQI,QAAS,kBAAMH,EAAiBD,EAAgB,KAAxD,U,0BCVOW,EAlCF,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,oBAAqBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACnD,OACE,6BACE,6BACE,kBAAC,IAAD,CAASlC,GAAE,mBAAc+B,EAAKI,KAC5B,yBACEC,IAA2B,OAAtBL,EAAKM,OAAOC,MAAiBP,EAAKM,OAAOC,MAAQC,IACtDC,MAAM,UAGTT,EAAKU,SACJ,4BACEC,SAAUV,EAAoBW,MAAK,SAACR,GAAD,OAAQA,IAAOJ,EAAKI,MACvDZ,QAAS,kBAAMU,EAASF,EAAKI,MAF/B,YAOA,4BACEO,SAAUV,EAAoBW,MAAK,SAACR,GAAD,OAAQA,IAAOJ,EAAKI,MACvDZ,QAAS,kBAAMW,EAAOH,EAAKI,MAF7B,WAQJ,6BACE,4BAAKJ,EAAKa,MACV,2BAAIb,EAAKc,WCGFC,EA/BD,SAAC,GASR,IARLC,EAQI,EARJA,eACAxC,EAOI,EAPJA,SACAC,EAMI,EANJA,YACAC,EAKI,EALJA,aACAuC,EAII,EAJJA,MACAhB,EAGI,EAHJA,oBACAC,EAEI,EAFJA,SACAC,EACI,EADJA,OAEA,OACE,8BACE,kBAAC,EAAD,CACE5B,eAAgByC,EAChBxC,SAAUA,EACVC,YAAaA,EACbC,aAAcA,IAEfuC,EAAMtB,KAAI,SAACK,GAAD,OACT,kBAAC,EAAD,CACEkB,IAAKlB,EAAKI,GACVJ,KAAMA,EACNC,oBAAqBA,EACrBC,SAAUA,EACVC,OAAQA,S,wBC5BLgB,EAAgB,SAAC1D,GAC5B,OAAOA,EAAM2D,UAAUH,OAGZI,EAAc,SAAC5D,GAC1B,OAAOA,EAAM2D,UAAU5C,UAGZ8C,EAAoB,SAAC7D,GAChC,OAAOA,EAAM2D,UAAUJ,gBAGZO,EAAiB,SAAC9D,GAC7B,OAAOA,EAAM2D,UAAU3C,aAGZ+C,EAAgB,SAAC/D,GAC5B,OAAOA,EAAM2D,UAAUK,YAGZC,EAAyB,SAACjE,GACrC,OAAOA,EAAM2D,UAAUnB,qBCLnB0B,E,4MAOJjD,aAAe,SAACkD,GAAgB,IAAD,EACE,EAAK5D,OAEpC6D,EAH6B,EACrBA,UAECD,EAHoB,EACXpD,W,kEAPC,IAAD,EAC0BT,KAAKC,OAEjD6D,EAHkB,EACVA,UADU,EACApD,YADA,EACaD,Y,+BAY/B,OACE,oCACGT,KAAKC,MAAMyD,WAAa,kBAAC,UAAD,MAAa,KACtC,kBAAC,EAAD,CACET,eAAgBjD,KAAKC,MAAMgD,eAC3BxC,SAAUT,KAAKC,MAAMQ,SACrBC,YAAaV,KAAKC,MAAMS,YACxBC,aAAcX,KAAKW,aACnBuC,MAAOlD,KAAKC,MAAMiD,MAClBd,OAAQpC,KAAKC,MAAMmC,OACnBD,SAAUnC,KAAKC,MAAMkC,SACrBD,oBAAqBlC,KAAKC,MAAMiC,2B,GAzBb/B,IAAML,WAyCpBiE,4BACb3D,aAVsB,SAACV,GAAD,MAAY,CAClCwD,MAAOE,EAAc1D,GACrBe,SAAU6C,EAAY5D,GACtBuD,eAAgBM,EAAkB7D,GAClCgB,YAAa8C,EAAe9D,GAC5BgE,WAAYD,EAAc/D,GAC1BwC,oBAAqByB,EAAuBjE,MAInB,CACvB0C,WACAD,aACA2B,eAEFjE,IANakE,CAObH","file":"static/js/4.8e4b2c4f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = (state) => ({ isAuth: state.auth.isAuth });\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  const ConnectAuthRedirectComponent = connect(mapStateToProps)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Paginator_page__W1zAS\",\"selectedPage\":\"Paginator_selectedPage__2Iy9z\"};","module.exports = __webpack_public_path__ + \"static/media/user.30101966.svg\";","import React, { useState } from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\n\r\nconst Paginator = ({\r\n  totalItemCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChange,\r\n  portionSize = 5,\r\n} = {}) => {\r\n  const pageCount = Math.ceil(totalItemCount / pageSize);\r\n\r\n  const pages = [];\r\n\r\n  for (let i = 1; i <= pageCount; i += 1) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pageCount / portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div>\r\n      {portionNumber > 1 && (\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n          Prev\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (page) =>\r\n            page >= leftPortionPageNumber && page <= rightPortionPageNumber\r\n        )\r\n        .map((page) => {\r\n          return (\r\n            <a\r\n              className={`${classes.page} ${\r\n                currentPage === page && classes.selectedPage\r\n              }`}\r\n              onClick={() => onPageChange(page)}\r\n            >\r\n              {page}\r\n            </a>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n          Next\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPic from \"../../images/user.svg\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <NavLink to={`/profile/${user.id}`}>\r\n          <img\r\n            src={user.photos.small !== null ? user.photos.small : userPic}\r\n            width=\"64px\"\r\n          />\r\n        </NavLink>\r\n        {user.followed ? (\r\n          <button\r\n            disabled={followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => unfollow(user.id)}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled={followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => follow(user.id)}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <h2>{user.name}</h2>\r\n        <p>{user.status}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  totalUserCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChange,\r\n  users,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n}) => {\r\n  return (\r\n    <main>\r\n      <Paginator\r\n        totalItemCount={totalUserCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        onPageChange={onPageChange}\r\n      />\r\n      {users.map((user) => (\r\n        <User\r\n          key={user.id}\r\n          user={user}\r\n          followingInProgress={followingInProgress}\r\n          unfollow={unfollow}\r\n          follow={follow}\r\n        />\r\n      ))}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const getStateUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUserCount = (state) => {\r\n  return state.usersPage.totalUserCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, getUsers } from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../common/loader\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../hoc/WithAuthRedirect\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getStateUsers,\r\n  getTotalUserCount,\r\n} from \"../../redux/users-selector\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { getUsers, currentPage, pageSize } = this.props;\r\n\r\n    getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChange = (pageNumber) => {\r\n    const { getUsers, pageSize } = this.props;\r\n\r\n    getUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Loader /> : null}\r\n        <Users\r\n          totalUserCount={this.props.totalUserCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChange={this.onPageChange}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: getStateUsers(state),\r\n  pageSize: getPageSize(state),\r\n  totalUserCount: getTotalUserCount(state),\r\n  currentPage: getCurrentPage(state),\r\n  isFetching: getIsFetching(state),\r\n  followingInProgress: getFollowingInProgress(state),\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    getUsers,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n"],"sourceRoot":""}